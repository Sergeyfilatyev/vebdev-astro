---
const {title, subtitle, faqs, faqItems} = Astro.props;
const faqList = faqs || faqItems;
---

<section class='relative py-24 md:py-32 bg-gradient-to-b from-primary-900 via-primary-800 to-primary-900 overflow-hidden'>
	<div class='absolute inset-0 opacity-10'>
		<div class='absolute top-0 left-1/4 w-96 h-96 bg-primary-500/20 rounded-full blur-3xl'></div>
		<div class='absolute bottom-0 right-1/4 w-96 h-96 bg-primary-200/20 rounded-full blur-3xl'></div>
	</div>

	<div class='container px-4 relative z-10'>
		{title && (
			<h2 class='text-4xl md:text-5xl lg:text-6xl font-bold text-center mb-6 fade-in-up'>
				<span class='gradient-text'>{title}</span>
			</h2>
		)}
		{subtitle && (
			<p class='text-lg md:text-xl text-center text-primary-150 mb-16 max-w-2xl mx-auto fade-in-up fade-in-delay-1'>
				{subtitle}
			</p>
		)}

		{faqList && faqList.length > 0 && (
			<div class='max-w-3xl mx-auto space-y-4'>
				{faqList.map((faq: any, index: number) => {
					const faqData = typeof faq === 'object' ? faq : null;
					if (!faqData) return null;

					return (
						<details
							class='group bg-gradient-to-br from-primary-850/50 to-primary-800/30 backdrop-blur-sm rounded-xl border border-primary-700/30 hover:border-primary-500/50 transition-all duration-300 hover:shadow-lg hover:shadow-primary-500/10 fade-in-up'
							style={`animation-delay: ${index * 0.1}s`}>
							<summary class='p-6 cursor-pointer list-none flex items-center justify-between'>
								<span class='text-lg md:text-xl font-semibold text-primary-50 pr-4 group-hover:text-primary-200 transition-colors'>
									{faqData.question}
								</span>
								<span class='text-primary-500 text-2xl flex-shrink-0 transition-transform duration-300 group-open:rotate-45'>
									+
								</span>
							</summary>
							<div class='px-6 pb-6 text-primary-150 leading-relaxed text-lg'>
								{typeof faqData.answer === 'string' ? (
									<div set:html={faqData.answer} />
								) : (
									<p>{faqData.answer}</p>
								)}
							</div>
						</details>
					);
				})}
			</div>
		)}
	</div>
</section>
