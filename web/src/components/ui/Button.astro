---
import cn from '@/utils/clsx';

const {
	size = 'md',
	variant = 'primary',
	isLink = false,
	class: customClass,
	...props
} = Astro.props;

// Размеры кнопки
const sizeClasses = {
	sm: 'w-[160px] h-[44px] lg:h-[50px] lg:w-[200px] text-xs lg:text-sm',
	md: 'w-[240px] h-[50px] lg:h-[60px] lg:w-[300px] text-sm lg:text-base',
	lg: 'w-[310px] h-[64px] lg:h-[72px] lg:w-[360px] text-sm lg:text-base',
	xl: 'w-[360px] h-[66px] lg:h-[75px] lg:w-[440px] text-sm lg:text-base',
	icon: 'w-[40px] h-[40px] lg:w-[48px] lg:h-[48px] text-sm',
	callback: 'w-20 h-20 lg:w-24 lg:h-24 text-sm',
	auto: 'w-auto text-sm',
};

// Варианты кнопки
const variantClasses = {
	primary:
		'bg-primary-600 text-primary-50 hover:bg-primary-500 shadow-primary-700 hover:shadow-primary-800',
	secondary:
		'bg-primary-700 text-primary-50 hover:text-primary-300 border border-primary-100/20 shadow-sm shadow-primary-800 hover:shadow-primary-700',
	outline:
		'bg-transparent text-primary-700 border-1 border-primary-100/20 hover:text-primary-300 shadow-sm shadow-primary-800 hover:shadow-primary-700',
	white:
		'bg-primary-50 text-primary-500 border-2 border-primary-300 hover:bg-primary-100 hover:text-primary-300 shadow-primary-700 hover:shadow-primary-900',
	callback:
		'bg-primary-50 text-primary-600 border-3 border-primary-600 hover:bg-primary-600 hover:text-primary-50  rounded-full',
};

const baseClasses =
	'flex items-center justify-center gap-2 rounded-3xl shadow-md transition-all cursor-pointer';
const buttonClasses = `${baseClasses} ${sizeClasses[size as keyof typeof sizeClasses]} ${variantClasses[variant as keyof typeof variantClasses]}`;
---

{
	isLink ? (
		<a
			class={cn(buttonClasses, customClass)}
			{...props}>
			<slot />
		</a>
	) : (
		<button
			class={cn(buttonClasses, customClass)}
			{...props}>
			<slot />
		</button>
	)
}

